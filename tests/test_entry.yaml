---
- config:
  - testset: "Entry"
  - timeout: 10
- test:
  - group: "Entry"
  - name: "Check if there is no entry with id 1"
  - url: "/entries/1"
  - expected_status: [404]
- test:
  - group: "Entry"
  - name: "Basic get"
  - url: "/entries/"
- test:
  - group: "Battle"
  - name: "Create new battle by user_id"
  - auth_username: "creator"
  - auth_password: "123"
  - url: "/battles/"
  - method: "POST"
  - body: '{"name": "Yet another nice battle", "latitude": "13", "longitude": "37", "user_id": 1, "radius": "100", "description": "yes"}'
  - headers: {'Content-Type': 'application/json'}
  - expected_status: [201]
- test:
  - group: "Entry"
  - name: "Create new entry"
  - auth_username: "creator"
  - auth_password: "123"
  - url: "/entries/"
  - method: "POST"
  - body: '{"latitude": 1, "longitude": 1, "user_id": 1, "battle_id": 1}'
  - headers: {'Content-Type': 'application/json'}
  - expected_status: [201]
- test:
  - group: "Entry"
  - name: "Get single entry"
  - url: "/entries/1"
  - validate: {jsonpath_mini: 'latitude', expected: 1}